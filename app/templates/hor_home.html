{% extends "base.html" %}

{% block title %}HoR, {{year}}{% endblock %}

{% block css %}
  <style>
        * {
            box-sizing: border-box;
        }
        
        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }
        
        .btn {
            display: inline-block;
            padding: 0.8rem 1.5rem;
            background: #1a4f8b;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            text-decoration: none;
            width: 100%;
            margin-bottom: 10px;
        }

        @media (min-width: 768px) {
            .btn {
                width: auto;
                margin-bottom: 0;
            }
        }

        .btn:hover {
            background: #0d3c6e;
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: green;
        }

        .btn-secondary:hover {
            background: #388e3c;
        }

        .btn-outline {
            background: transparent;
            background: #1a4f8b;
        }

        .btn-outline:hover {
            background: #1976d2;
            color: white;
        }
        
        .house-structure {
            padding: 2rem 0;
            text-align: center;
        }

        @media (min-width: 768px) {
            .house-structure {
                padding: 4rem 0;
            }
        }

        .section-title {
            text-align: center;
            margin-bottom: 2rem;
            color: #1a4f8b;
        }

        .section-title h2 {
            font-size: 1.8rem;
            margin-bottom: 0.5rem;
            line-height: 1.3;
        }

        .section-title p {
            font-size: 1.1rem;
            color: #666;
            margin: 0;
        }
        
        @media (min-width: 768px) {
            .section-title h2 {
                font-size: 2.2rem;
            }
            .section-title p {
                font-size: 1rem;
            }            
        }

        .structure-cards {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        @media (min-width: 768px) {
            .structure-cards {
                grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
                gap: 2rem;
                margin-bottom: 3rem;
            }
        }

        .structure-card {
            background: white;
            border-radius: 10px;
            padding: 1.5rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        @media (min-width: 768px) {
            .structure-card {
                padding: 2rem;
            }
        }

        .structure-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }

        .structure-card i {
            font-size: 2.5rem;
            color: #1a4f8b;
            margin-bottom: 1rem;
        }

        @media (min-width: 768px) {
            .structure-card i {
                font-size: 3rem;
            }
        }

        .structure-card h3 {
            font-size: 1.3rem;
            margin-bottom: 1rem;
            color: #1a4f8b;
            line-height: 1.3;
        }

        @media (min-width: 768px) {
            .structure-card h3 {
                font-size: 1.5rem;
            }
        }

        .structure-card p {
            color: #666;
            margin-bottom: 1.5rem;
            line-height: 1.5;
            text-align: left;
        }

        .card-value {
            font-size: 2rem;
            font-weight: 700;
            color: #1a4f8b;
        }

        @media (min-width: 768px) {
            .card-value {
                font-size: 2.5rem;
            }
        }

        .election-types {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            margin-top: 2rem;
        }

        @media (min-width: 768px) {
            .election-types {
                flex-direction: row;
                justify-content: center;
                gap: 2rem;
            }
        }

        #more{
            display: none;
        }
        
        #myBtn{
            outline: none;
            background: transparent;
            border: none;
            font-size: 1rem;
            text-transform: lowercase;
            color: blue;
            cursor: pointer;
            padding: 5px 0;
        }

        /* Stats Section */
        .stats {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1rem;
            margin-top: 2rem;
        }

        @media (min-width: 480px) {
            .stats {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (min-width: 768px) {
            .stats {
                grid-template-columns: repeat(4, 1fr);
                gap: 1.5rem;
            }
        }

        .stat-box {
            background: #f3b5b5;
            padding: 1.5rem;
            text-align: center;
            border-radius: 6px;
        }

        @media (min-width: 768px) {
            .stat-box {
                padding: 20px;
                min-height: 200px;
            }
        }

        .stat-box img,
        .stat-box svg {
            width: 35px;
            height: 35px;
            margin-bottom: 10px;
        }

        @media (min-width: 768px) {
            .stat-box img,
            .stat-box svg {
                width: 40px;
                height: 40px;
            }
        }

        .stat-box h2 {
            margin: 5px 0;
            font-size: 1.5rem;
            font-weight: bold;
        }

        @media (min-width: 768px) {
            .stat-box h2 {
                font-size: 22px;
            }
        }

        .stat-box p {
            font-size: 0.9rem;
            margin: 0;
            line-height: 1.4;
            color: #666;
        }

        @media (min-width: 768px) {
            .stat-box p {
                font-size: 14px;
            }
        }
 .flex-container {
  display: flex;
  flex-direction: row;
}
@media (max-width: 800px) {
  .flex-container {
    flex-direction: column;
  }
}         
  </style>
{% endblock %}

{% block content %}
    <section class="house-structure">
        <div class="container">
            <div class="section-title">
                <h2>Election for House of Representatives, {{year}}</h2>
                <p>275 members elected through two different systems</p>
            </div>
            
            <div class="structure-cards">
                <div class="structure-card">
                    <i class="fas fa-user"></i>
                    <h3>First-Past-The-Post</h3>
                    <p>165 members elected directly from respective constituencies</p>
                    <div class="card-value">165</div>
                </div>
                
                <div class="structure-card">
                    <i class="fas fa-users"></i>
                    <h3>Proportional Representation</h3>
                    <p>Voters vote for political parties nation-wide. Based on the vote percentage they receive, parties can choose their x number of politicians<span id="dots">...</span>  
                    <span id="more">
                    to go to the House. <br><br>These PR candidates are from the minority communities (आदिवासी जनजाति, थारू, दलित, मधेशी, मुस्लिम, पिछडिएको क्षेत्र). This ensures the representation of marginalized and underrepresented groups and avoids the government to be in favor of majority groups based on caste, religion or ethnicity.<br><br>However, this provision has been misused by political parties. People from the business community were chosen under the Madhesi category. Picking already powerful and well-established people defeats the very purpose of the system.
                    </span><button onclick="readMore()" id="myBtn">Read more</button> 
                    <div class="card-value">110</div>
                </div>
                
                <div class="structure-card">
                    <i class="fas fa-chart-pie"></i>
                    <h3>Total Members</h3>
                    <p>The complete House of Representatives</p>
                    <div class="card-value">275</div>
                </div>
            </div>
<p>In this election, you will cast two votes: one on your favorite candidate's symbol and another on your favorite party's symbol.</p>
<div class="flex-container">
    <img src="/static/img/hor_fptp_ballot.png" alt="FPTP Ballot" style="width:100%; margin: 0 auto; display:block; border-radius:10px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">
    <img src="/static/img/hor_pr_ballot_crop.png" alt="PR Ballot" style="width:100%; object-fit: contain; margin: 0 auto; display:block; border-radius:10px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); margin-left: 20px;">
</div>
            <!-- <div class="stats">
                <div class="stat-box">
                    <p>Total Candidates</p>
                    <br>
                    <img src="/static/img/handcuffs.png" alt="Criminal Cases">
                    <h2>0</h2>
                    <p>With Criminal Cases</p>
                </div>
                <div class="stat-box">
                    <p>FPTP Candidates</p>
                    <br>
                    <img src="/static/img/handcuffs.png" alt="Serious Criminal Cases">
                    <h2>0</h2>
                    <p>With Criminal Cases</p>
                </div>
                <div class="stat-box">
                    <p>PR Candidates</p>
                    <br>
                    <img src="/static/img/handcuffs.png" alt="Serious Criminal Cases">
                    <h2>0</h2>
                    <p>With Criminal Cases</p>
                </div>
                <div class="stat-box">
                    <p>Independent Candidates</p>
                    <br>
                    <img src="/static/img/handcuffs.png" alt="Serious Criminal Cases">
                    <h2>0</h2>
                    <p>With Criminal Cases</p>
                </div>
            </div> -->

            <div class="election-types">
                <a href="/hor/{{year}}/constituencies" class="btn btn-secondary">View FPTP Candidates</a>
                <a href="/hor/{{year}}/parties" class="btn btn-outline">View PR Candidates</a>
            </div>
        </div>
    </section>

    <script>
    function readMore(){
        var dots = document.getElementById('dots');
        var readMore = document.getElementById('more');
        var openBtn = document.getElementById('myBtn');

        if(dots.style.display === 'none') {
            dots.style.display = 'inline';
            openBtn.innerHTML = 'Read more';
            readMore.style.display = 'none';
        } else {
            dots.style.display = 'none';
            openBtn.innerHTML = 'See less';
            readMore.style.display = 'inline';    
        }
    }    
    </script>
{% endblock %}